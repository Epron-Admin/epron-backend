{"version":3,"file":"middleware.js","names":["validationFunc","req","res","next","token","headers","authorization","split","decoded","jwt","decode","status","send"],"sources":["../../src/middleware/middleware.js"],"sourcesContent":["\nimport jwt from 'jsonwebtoken';\n\n\n\nconst validationFunc = (req, res, next) => {\n    // let token = req.body.token || req.query.token;\n    let token = req.headers.authorization.split(\" \")[1];\n    // console.log('Headers', req.headers.authorization); \n    // console.log('SSSSSSSSSSSSSS', token);\n    let decoded = jwt.decode(token);\n    req.decoded = decoded;\n   if (req.decoded === null) {\n        return res.status(401).send(\"Access denied\");\n    } else {\n        // console.log('Decoded', req.decoded);\n        next();\n    }\n\n};\n\n\nexport { validationFunc };\n"],"mappings":";;;;;;;;;AACA;;AAIA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;EACvC;EACA,IAAIC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAZ,CAFuC,CAGvC;EACA;;EACA,IAAIC,OAAO,GAAGC,wBAAA,CAAIC,MAAJ,CAAWN,KAAX,CAAd;;EACAH,GAAG,CAACO,OAAJ,GAAcA,OAAd;;EACD,IAAIP,GAAG,CAACO,OAAJ,KAAgB,IAApB,EAA0B;IACrB,OAAON,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,eAArB,CAAP;EACH,CAFF,MAEQ;IACH;IACAT,IAAI;EACP;AAEJ,CAdD"}